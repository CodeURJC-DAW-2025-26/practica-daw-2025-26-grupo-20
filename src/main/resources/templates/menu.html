<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">Menú</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/general.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/menu.css">
</head>
<body class="body-content">
    <header th:replace="~{fragments/header :: header}"></header>

    <main class="container my-5 menu-container">
        <h2 class="text-center mb-5">Nuestro Menú</h2>
        
        <!-- Category Navigation -->
        <div class="category-nav mb-4">
            <div class="d-flex justify-content-center flex-wrap gap-2">
                <button class="btn btn-category active" data-category="all">
                    Todos
                </button>
                <button class="btn btn-category" data-category="Hot">
                    Calientes
                </button>
                <button class="btn btn-category" data-category="Cold">
                    Fríos
                </button>
                <button class="btn btn-category" data-category="Blended">
                    Mezclados
                </button>
                <button class="btn btn-category" data-category="Desserts">
                    Postres
                </button>
                <button class="btn btn-category" data-category="Non-Coffee">
                    Sin Café
                </button>
            </div>
        </div>

        <!-- Menu Items Grid -->
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            <div th:each="item : ${items}" class="col menu-item" th:data-category="${item.category}">
                <div class="card h-100 menu-card">
                    <img th:src="${item.image}" class="card-img-top" th:alt="${item.name}">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title" th:text="${item.name}">Nombre del Producto</h5>
                        <p class="card-text" th:text="${item.description}">Descripción del producto.</p>
                        <p class="card-price fw-bold mt-auto" th:text="${item.price}">Precio</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer th:replace="~{fragments/footer :: footer}"></footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const categoryButtons = document.querySelectorAll('.btn-category');
            const menuItems = document.querySelectorAll('.menu-item');

            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons
                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    // Add active class to clicked button
                    button.classList.add('active');

                    const selectedCategory = button.getAttribute('data-category');

                    menuItems.forEach(item => {
                        if (selectedCategory === 'all' || item.getAttribute('data-category') === selectedCategory) {
                            item.style.display = '';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>
